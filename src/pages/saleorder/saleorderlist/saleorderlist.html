<ion-header>
  <ion-navbar color="primary">
    <ion-title>
      ใบสั่งขาย
    </ion-title>
  </ion-navbar>
</ion-header>

<ion-content class="backgound">
  <ion-refresher class="backgound" (ionRefresh)="doRefresh($event)">
    <ion-refresher-content refreshingSpinner="circles" >
    </ion-refresher-content>
  </ion-refresher>
  
    <ion-grid padding>
      <ion-row>
        <ion-col>
          <!---<ion-input type="text" [(ngModel)]="oSearch" placeholder="ค้นหา"></ion-input>-->
          <ion-searchbar type="text" [(ngModel)]="myInput" placeholder="ค้นหา" [showCancelButton]="shouldShowCancel" (ionInput)="onInput($event)"clearInput></ion-searchbar>
        </ion-col>
        <!----
        <ion-col col-1>
          <button ion-button block><ion-icon name="md-search" (click)="doSearch(oSearch)"></ion-icon></button>
        </ion-col>
      -->
      </ion-row>
    </ion-grid>
  
  <!---<ion-grid>
    <ion-row class="padding-showseach">
      <ion-col col-6>
        <ion-label (click)="doShowHide()">แสดงแถบค้นหา  <ion-icon name="md-search"></ion-icon></ion-label>
      </ion-col>
      <ion-col col-6>
        <ion-item>
          <ion-select [(ngModel)]="oSelectFilter" interface="action-sheet" (ionChange)="SelectFilter(oSelectFilter)">
            <ion-option value="ALL">ทั้งหมด</ion-option>
            <ion-option value="CUSTOMERCODE">รหัสลูกค้า</ion-option>
            <ion-option value="CUSTOMERNAME">ชื่อลูกค้า</ion-option>
          </ion-select>
        </ion-item>
      </ion-col>
    </ion-row>
  </ion-grid>-->
  <ion-card (click)="gotoDetail(item)" *ngFor="let item of items">
    <ion-card-content>
      <ion-row>
        <ion-col>
          <ion-row>
            <b>ใบสั่งขาย : {{item.order_no}}</b>
          </ion-row>
          <ion-row>
            <p>ลูกค้า : {{item.customer_name}}</p>
          </ion-row> 
          <ion-row>
            <p>วันที่ : {{item.create_date}}</p>
          </ion-row>     
        </ion-col>
        <ion-col col-5 style="text-align: center;" *ngIf="item.status == 'CANCEL'">
          <button ion-button style="background-color: red">{{item.status}}</button>
        </ion-col>
        <ion-col col-5 style="text-align: center" *ngIf="item.status == 'WAITING'">
          <button ion-button style="background-color: rgb(192, 192, 19)">{{item.status}}</button>
        </ion-col>
        <ion-col col-5 style="text-align: center" *ngIf="item.status == 'PICKING'">
          <button ion-button style="background-color: rgb(17, 173, 140)">{{item.status}}</button>
        </ion-col>
        <ion-col col-5 style="text-align: center" *ngIf="item.status == 'PICKED'">
          <button ion-button style="background-color: rgb(48, 180, 99)">{{item.status}}</button>
        </ion-col>
        <ion-col col-5 style="text-align: center" *ngIf="item.status == 'DATA ENTRY'">
          <button ion-button >{{item.status}}</button>
        </ion-col>
      </ion-row>
    </ion-card-content> 
  </ion-card>    
  
  <ion-fab right bottom>
    <button ion-fab color="primary" (click)="AddSaleOrder()"><ion-icon name="md-add"></ion-icon></button>
  </ion-fab>
</ion-content>
